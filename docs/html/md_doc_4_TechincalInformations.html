<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>O2-DQ User Interface: Technical Informations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">O2-DQ User Interface<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_doc_4_TechincalInformations.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Technical Informations </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md18">Helper Command Functionality</a><ul><li class="level2"><a href="#autotoc_md19">One Minimal Bug on Error Message</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md20">Debug and Logging Options for O2DQWorkflows and DownloadLibs.py</a></li>
<li class="level1"><a href="#autotoc_md21">Features for runTableMaker</a><ul><li class="level2"><a href="#autotoc_md22">Automated Things In runTableMaker</a></li>
<li class="level2"><a href="#autotoc_md23">Logger Things In runTableMaker</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md24">Parameter Checking</a></li>
<li class="level1"><a href="#autotoc_md25">TableMaker/TableMakerMC Task Checking</a></li>
<li class="level1"><a href="#autotoc_md26">AOD File Path Checking</a><ul><li class="level2"><a href="#autotoc_md27">Features for runTableReader</a><ul><li class="level3"><a href="#autotoc_md28">Automated Things In runTableReader</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md29">Features for runDQEfficiency</a><ul><li class="level3"><a href="#autotoc_md30">Automated Things In runDQEfficiency</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md31">Some Things You Should Be Careful For Using and Development</a></li>
<li class="level2"><a href="#autotoc_md32">Some Notes Before The Instructions</a></li>
<li class="level2"><a href="#autotoc_md33">Interface Modes: JSON Overrider and JSON Additional</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md18"></a>
Helper Command Functionality</h1>
<p >With the <code>python3 &lt;scriptname&gt; -h</code> command you will see a help message for all commands valid for the CLI. CLI has same formatted messages in O2-DPL. It is recommended to use this command at least once before using the interface. If you do not remember the parameters related to the interface, you can list all valid parameters and the values that these parameters can take with this command. In addition, helper messages are integrated into helper messages for all values that are valid for each very important parameter. For example, if you want to get a help message with the <code>python3 <a class="el" href="runTableMaker_8py.html">runTableMaker.py</a> -h</code> command:</p>
<p >P.S The default values you see in the helper messages are the default values for the interface. The values you see None will directly take the default values from JSON</p>
<div class="fragment"><div class="line">usage: runTableMaker.py [-h] [-runData] [-runMC] [--run {2,3}]</div>
<div class="line">                         [--add_mc_conv] [--add_fdd_conv] [--add_track_prop]</div>
<div class="line">                         [--aod AOD] [--onlySelect ONLYSELECT]</div>
<div class="line">                         [--autoDummy {true,false}]</div>
<div class="line">                         [--cfgEventCuts [CFGEVENTCUTS [CFGEVENTCUTS ...]]]</div>
<div class="line">                         [--cfgBarrelTrackCuts [CFGBARRELTRACKCUTS [CFGBARRELTRACKCUTS ...]]]</div>
<div class="line">                         [--cfgMuonCuts [CFGMUONCUTS [CFGMUONCUTS ...]]]</div>
<div class="line">                         [--cfgBarrelLowPt CFGBARRELLOWPT]</div>
<div class="line">                         [--cfgMuonLowPt CFGMUONLOWPT] [--cfgNoQA CFGNOQA]</div>
<div class="line">                         [--cfgDetailedQA {true,false}]</div>
<div class="line">                         [--cfgMinTpcSignal CFGMINTPCSIGNAL]</div>
<div class="line">                         [--cfgMaxTpcSignal CFGMAXTPCSIGNAL]</div>
<div class="line">                         [--cfgMCsignals [CFGMCSIGNALS [CFGMCSIGNALS ...]]]</div>
<div class="line">                         [--process [PROCESS [PROCESS ...]]]</div>
<div class="line">                         [--syst {PbPb,pp,pPb,Pbp,XeXe}]</div>
<div class="line">                         [--muonSelection {0,1,2}]</div>
<div class="line">                         [--customDeltaBC CUSTOMDELTABC]</div>
<div class="line">                         [--isCovariance {true,false}]</div>
<div class="line">                         [--tof-expreso TOF_EXPRESO]</div>
<div class="line">                         [--isProcessEvTime {true,false}]</div>
<div class="line">                         [--isBarrelSelectionTiny {true,false}]</div>
<div class="line">                         [--cfgMuonsCuts [CFGMUONSCUT [CFGMUONSCUT ...]]]</div>
<div class="line">                         [--cfgPairCuts [CFGPAIRCUTS [CFGPAIRCUTS ...]]]</div>
<div class="line">                         [--cfgBarrelSels [CFGBARRELSELS [CFGBARRELSELS ...]]]</div>
<div class="line">                         [--cfgMuonSels [CFGMUONSELS [CFGMUONSELS ...]]]</div>
<div class="line">                         [--isFilterPPTiny {true,false}]</div>
<div class="line">                         [--est [EST [EST ...]]] [--cfgWithQA {true,false}]</div>
<div class="line">                         [--d_bz D_BZ] [--v0cospa V0COSPA]</div>
<div class="line">                         [--dcav0dau DCAV0DAU] [--v0Rmin V0RMIN]</div>
<div class="line">                         [--v0Rmax V0RMAX] [--dcamin DCAMIN] [--dcamax DCAMAX]</div>
<div class="line">                         [--mincrossedrows MINCROSSEDROWS]</div>
<div class="line">                         [--maxchi2tpc MAXCHI2TPC] [--pid [PID [PID ...]]]</div>
<div class="line">                         [--cutLister] [--MCSignalsLister] [--debug DEBUG]</div>
<div class="line">                         [--logFile]</div>
<div class="line">                         Config.json</div>
<div class="line"> </div>
<div class="line">Arguments to pass</div>
<div class="line"> </div>
<div class="line">optional arguments:</div>
<div class="line">  -h, --help            show this help message and exit</div>
<div class="line"> </div>
<div class="line">Core configurations that must be configured:</div>
<div class="line">  Config.json           config JSON file name</div>
<div class="line">  -runData              Run over data (default: False)</div>
<div class="line">  -runMC                Run over MC (default: False)</div>
<div class="line">  --run {2,3}           Run Number Selection (2 or 3) (default: None)</div>
<div class="line"> </div>
<div class="line">Additional Task Adding Options:</div>
<div class="line">  --add_mc_conv         Add the converter from mcparticle to mcparticle+001</div>
<div class="line">                        (Adds your workflow o2-analysis-mc-converter task)</div>
<div class="line">                        (default: False)</div>
<div class="line">  --add_fdd_conv        Add the fdd converter (Adds your workflow o2-analysis-</div>
<div class="line">                        fdd-converter task) (default: False)</div>
<div class="line">  --add_track_prop      Add track propagation to the innermost layer (TPC or</div>
<div class="line">                        ITS) (Adds your workflow o2-analysis-track-propagation</div>
<div class="line">                        task) (default: False)</div>
<div class="line"> </div>
<div class="line">Data processor options: internal-dpl-aod-reader:</div>
<div class="line">  --aod AOD             Add your AOD File with path (default: None)</div>
<div class="line"> </div>
<div class="line">Automation Parameters:</div>
<div class="line">  --onlySelect ONLYSELECT</div>
<div class="line">                        An Automate parameter for keep options for only</div>
<div class="line">                        selection in process, pid and centrality table (true</div>
<div class="line">                        is highly recomended for automation) (default: true)</div>
<div class="line">  --autoDummy {true,false}</div>
<div class="line">                        Dummy automize parameter (don&#39;t configure it, true is</div>
<div class="line">                        highly recomended for automation) (default: true)</div>
<div class="line"> </div>
<div class="line">Data processor options: table-maker:</div>
<div class="line">  --cfgEventCuts [CFGEVENTCUTS [CFGEVENTCUTS ...]]</div>
<div class="line">                        Space separated list of event cuts (default: None)</div>
<div class="line">  --cfgBarrelTrackCuts [CFGBARRELTRACKCUTS [CFGBARRELTRACKCUTS ...]]</div>
<div class="line">                        Space separated list of barrel track cuts (default:</div>
<div class="line">                        None)</div>
<div class="line">  --cfgMuonCuts [CFGMUONCUTS [CFGMUONCUTS ...]]</div>
<div class="line">                        Space separated list of muon cuts in table-maker</div>
<div class="line">                        (default: None)</div>
<div class="line">  --cfgBarrelLowPt CFGBARRELLOWPT</div>
<div class="line">                        Low pt cut for tracks in the barrel (default: None)</div>
<div class="line">  --cfgMuonLowPt CFGMUONLOWPT</div>
<div class="line">                        Low pt cut for muons (default: None)</div>
<div class="line">  --cfgNoQA CFGNOQA     If true, no QA histograms (default: None)</div>
<div class="line">  --cfgDetailedQA {true,false}</div>
<div class="line">                        If true, include more QA histograms (BeforeCuts</div>
<div class="line">                        classes and more) (default: None)</div>
<div class="line">  --cfgMinTpcSignal CFGMINTPCSIGNAL</div>
<div class="line">                        Minimum TPC signal (default: None)</div>
<div class="line">  --cfgMaxTpcSignal CFGMAXTPCSIGNAL</div>
<div class="line">                        Maximum TPC signal (default: None)</div>
<div class="line">  --cfgMCsignals [CFGMCSIGNALS [CFGMCSIGNALS ...]]</div>
<div class="line">                        Space separated list of MC signals (default: None)</div>
<div class="line"> </div>
<div class="line">Data processor options: table-maker/table-maker-m-c:</div>
<div class="line">  --process [PROCESS [PROCESS ...]]</div>
<div class="line">                        Process Selection options for tableMaker/tableMakerMC</div>
<div class="line">                        Data Processing and Skimming (default: None)</div>
<div class="line">  Full                  Build full DQ skimmed data model, w/o centrality</div>
<div class="line">  FullTiny              Build full DQ skimmed data model tiny</div>
<div class="line">  FullWithCov           Build full DQ skimmed data model, w/ track and</div>
<div class="line">                        fwdtrack covariance tables</div>
<div class="line">  FullWithCent          Build full DQ skimmed data model, w/ centrality</div>
<div class="line">  BarrelOnly            Build barrel-only DQ skimmed data model, w/o</div>
<div class="line">                        centrality</div>
<div class="line">  BarrelOnlyWithCov     Build barrel-only DQ skimmed data model, w/ track cov</div>
<div class="line">                        matrix</div>
<div class="line">  BarrelOnlyWithV0Bits  Build full DQ skimmed data model, w/o centrality, w/</div>
<div class="line">                        V0Bits</div>
<div class="line">  BarrelOnlyWithEventFilter</div>
<div class="line">                        Build full DQ skimmed data model, w/o centrality, w/</div>
<div class="line">                        event filter</div>
<div class="line">  BarrelOnlyWithCent    Build barrel-only DQ skimmed data model, w/ centrality</div>
<div class="line">  MuonOnly              Build muon-only DQ skimmed data model</div>
<div class="line">  MuonOnlyWithCov       Build muon-only DQ skimmed data model, w/ muon cov</div>
<div class="line">                        matrix</div>
<div class="line">  MuonOnlyWithCent      Build muon-only DQ skimmed data model, w/ centrality</div>
<div class="line">  MuonOnlyWithFilter    Build muon-only DQ skimmed data model, w/ event filter</div>
<div class="line">  OnlyBCs               Analyze the BCs to store sampled lumi</div>
<div class="line"> </div>
<div class="line">Data processor options: event-selection-task:</div>
<div class="line">  --syst {PbPb,pp,pPb,Pbp,XeXe}</div>
<div class="line">                        Collision System Selection ex. pp (default: None)</div>
<div class="line">  --muonSelection {0,1,2}</div>
<div class="line">                        0 - barrel, 1 - muon selection with pileup cuts, 2 -</div>
<div class="line">                        muon selection without pileup cuts (default: None)</div>
<div class="line">  --customDeltaBC CUSTOMDELTABC</div>
<div class="line">                        custom BC delta for FIT-collision matching (default:</div>
<div class="line">                        None)</div>
<div class="line"> </div>
<div class="line">Data processor options: track-propagation:</div>
<div class="line">  --isCovariance {true,false}</div>
<div class="line">                        track-propagation : If false, Process without</div>
<div class="line">                        covariance, If true Process with covariance (default:</div>
<div class="line">                        None)</div>
<div class="line"> </div>
<div class="line">Data processor options: tof-pid-beta:</div>
<div class="line">  --tof-expreso TOF_EXPRESO</div>
<div class="line">                        Expected resolution for the computation of the</div>
<div class="line">                        expected beta (default: None)</div>
<div class="line">  --isProcessEvTime {true,false}</div>
<div class="line">                        tof-pid -&gt; processEvTime : Process Selection options</div>
<div class="line">                        true or false (string) (default: None)</div>
<div class="line"> </div>
<div class="line">Data processor options: d-q-track barrel-task:</div>
<div class="line">  --isBarrelSelectionTiny {true,false}</div>
<div class="line">                        Run barrel track selection instead of normal(process</div>
<div class="line">                        func. for barrel selection must be true) (default:</div>
<div class="line">                        false)</div>
<div class="line"> </div>
<div class="line">Data processor options: d-q muons selection:</div>
<div class="line">  --cfgMuonsCuts [CFGMUONSCUT [CFGMUONSCUT ...]]</div>
<div class="line">                        Space separated list of muon cuts in d-q muons</div>
<div class="line">                        selection (default: None)</div>
<div class="line"> </div>
<div class="line">Data processor options: d-q-filter-p-p-task:</div>
<div class="line">  --cfgPairCuts [CFGPAIRCUTS [CFGPAIRCUTS ...]]</div>
<div class="line">                        Space separated list of pair cuts (default: None)</div>
<div class="line">  --cfgBarrelSels [CFGBARRELSELS [CFGBARRELSELS ...]]</div>
<div class="line">                        Configure Barrel Selection &lt;track-cut&gt;:[&lt;pair-</div>
<div class="line">                        cut&gt;]:&lt;n&gt;,[&lt;track-cut&gt;:[&lt;pair-cut&gt;]:&lt;n&gt;],... | example</div>
<div class="line">                        jpsiO2MCdebugCuts2::1 (default: None)</div>
<div class="line">  --cfgMuonSels [CFGMUONSELS [CFGMUONSELS ...]]</div>
<div class="line">                        Configure Muon Selection &lt;muon-cut&gt;:[&lt;pair-cut&gt;]:&lt;n&gt;</div>
<div class="line">                        example muonQualityCuts:pairNoCut:1 (default: None)</div>
<div class="line">  --isFilterPPTiny {true,false}</div>
<div class="line">                        Run filter tiny task instead of normal</div>
<div class="line">                        (processFilterPP must be true) (default: None)</div>
<div class="line"> </div>
<div class="line">Data processor options: centrality-table:</div>
<div class="line">  --est [EST [EST ...]]</div>
<div class="line">                        Produces centrality percentiles parameters (default:</div>
<div class="line">                        None)</div>
<div class="line">  V0M                   Produces centrality percentiles using V0 multiplicity.</div>
<div class="line">                        -1: auto, 0: don&#39;t, 1: yes. Default: auto (-1)</div>
<div class="line">  Run2SPDtks            Produces Run2 centrality percentiles using SPD</div>
<div class="line">                        tracklets multiplicity. -1: auto, 0: don&#39;t, 1: yes.</div>
<div class="line">                        Default: auto (-1)</div>
<div class="line">  Run2SPDcls            Produces Run2 centrality percentiles using SPD</div>
<div class="line">                        clusters multiplicity. -1: auto, 0: don&#39;t, 1: yes.</div>
<div class="line">                        Default: auto (-1)</div>
<div class="line">  Run2CL0               Produces Run2 centrality percentiles using CL0</div>
<div class="line">                        multiplicity. -1: auto, 0: don&#39;t, 1: yes. Default:</div>
<div class="line">                        auto (-1)</div>
<div class="line">  Run2CL1               Produces Run2 centrality percentiles using CL1</div>
<div class="line">                        multiplicity. -1: auto, 0: don&#39;t, 1: yes. Default:</div>
<div class="line">                        auto (-1)</div>
<div class="line"> </div>
<div class="line">Data processor options: d-q-barrel-track-selection-task, d-q-muons-selection, d-q-event-selection-task, d-q-filter-p-p-task:</div>
<div class="line">  --cfgWithQA {true,false}</div>
<div class="line">                        If true, fill QA histograms (default: None)</div>
<div class="line"> </div>
<div class="line">Data processor options: v0-selector:</div>
<div class="line">  --d_bz D_BZ           bz field (default: None)</div>
<div class="line">  --v0cospa V0COSPA     v0cospa (default: None)</div>
<div class="line">  --dcav0dau DCAV0DAU   DCA V0 Daughters (default: None)</div>
<div class="line">  --v0Rmin V0RMIN       v0Rmin (default: None)</div>
<div class="line">  --v0Rmax V0RMAX       v0Rmax (default: None)</div>
<div class="line">  --dcamin DCAMIN       dcamin (default: None)</div>
<div class="line">  --dcamax DCAMAX       dcamax (default: None)</div>
<div class="line">  --mincrossedrows MINCROSSEDROWS</div>
<div class="line">                        Min crossed rows (default: None)</div>
<div class="line">  --maxchi2tpc MAXCHI2TPC</div>
<div class="line">                        max chi2/NclsTPC (default: None)</div>
<div class="line"> </div>
<div class="line">Data processor options: tof-pid, tpc-pid, tpc-pid-full:</div>
<div class="line">  --pid [PID [PID ...]]</div>
<div class="line">                        Produce PID information for the &lt;particle&gt; mass</div>
<div class="line">                        hypothesis (default: None)</div>
<div class="line">  el                    Produce PID information for the Electron mass</div>
<div class="line">                        hypothesis, overrides the automatic setup: the</div>
<div class="line">                        corresponding table can be set off (0) or on (1)</div>
<div class="line">  mu                    Produce PID information for the Muon mass hypothesis,</div>
<div class="line">                        overrides the automatic setup: the corresponding table</div>
<div class="line">                        can be set off (0) or on (1)</div>
<div class="line">  pi                    Produce PID information for the Pion mass hypothesis,</div>
<div class="line">                        overrides the automatic setup: the corresponding table</div>
<div class="line">                        can be set off (0) or on (1)</div>
<div class="line">  ka                    Produce PID information for the Kaon mass hypothesis,</div>
<div class="line">                        overrides the automatic setup: the corresponding table</div>
<div class="line">                        can be set off (0) or on (1)</div>
<div class="line">  pr                    Produce PID information for the Proton mass</div>
<div class="line">                        hypothesis, overrides the automatic setup: the</div>
<div class="line">                        corresponding table can be set off (0) or on (1)</div>
<div class="line">  de                    Produce PID information for the Deuterons mass</div>
<div class="line">                        hypothesis, overrides the automatic setup: the</div>
<div class="line">                        corresponding table can be set off (0) or on (1)</div>
<div class="line">  tr                    Produce PID information for the Triton mass</div>
<div class="line">                        hypothesis, overrides the automatic setup: the</div>
<div class="line">                        corresponding table can be set off (0) or on (1)</div>
<div class="line">  he                    Produce PID information for the Helium3 mass</div>
<div class="line">                        hypothesis, overrides the automatic setup: the</div>
<div class="line">                        corresponding table can be set off (0) or on (1)</div>
<div class="line">  al                    Produce PID information for the Alpha mass hypothesis,</div>
<div class="line">                        overrides the automatic setup: the corresponding table</div>
<div class="line">                        can be set off (0) or on (1)</div>
<div class="line"> </div>
<div class="line">Additional Helper Command Options:</div>
<div class="line">  --cutLister           List all of the analysis cuts from CutsLibrary.h</div>
<div class="line">                        (default: False)</div>
<div class="line">  --MCSignalsLister     List all of the MCSignals from MCSignalLibrary.h</div>
<div class="line">                        (default: False)</div>
<div class="line">  --debug DEBUG         execute with debug options (default: INFO)</div>
<div class="line">  --logFile             Enable logger for both file and CLI (default: False)</div>
<div class="line"> </div>
<div class="line">Choice List for debug Parameters:</div>
<div class="line">  NOTSET                Set Debug Level to NOTSET</div>
<div class="line">  DEBUG                 Set Debug Level to DEBUG</div>
<div class="line">  INFO                  Set Debug Level to INFO</div>
<div class="line">  WARNING               Set Debug Level to WARNING</div>
<div class="line">  ERROR                 Set Debug Level to ERROR</div>
<div class="line">  CRITICAL              Set Debug Level to CRITICAL</div>
</div><!-- fragment --><p >You will receive a message that. also the command can likewise be added after configuring other parameters. For example: </p><div class="fragment"><div class="line">python3 runTableMakerMC.py configs/configTableMakerMCRun3.json -runMC --run 3 --process MuonOnlyWithCov OnlyBCs --cfgMCsignals muFromJpsi Jpsi muFromPsi2S Psi2S --aod Datas/AO2D -h</div>
</div><!-- fragment --><p >You will see helper messages again. As long as this command is added in the parameters, the script will not run and will only show a help message.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
One Minimal Bug on Error Message</h2>
<p >It lists parameter values that do not actually need to be configured in the arguments that need to be configured. This is because the user lists the required values for some parameters while configuring the help messages and takes the explanation of these values from the dummy positional arguments.Required option of positional arguments cannot be changed.</p>
<p >Ex. <a class="el" href="namespacetableMaker.html">tableMaker</a> for help mesaage of <code>--process</code>:</p>
<div class="fragment"><div class="line">Data processor options: table-maker/table-maker-m-c:</div>
<div class="line">  --process [PROCESS [PROCESS ...]]</div>
<div class="line">                        Process Selection options for tableMaker/tableMakerMC</div>
<div class="line">                        Data Processing and Skimming (default: None)</div>
<div class="line">  Full                  Build full DQ skimmed data model, w/o centrality</div>
<div class="line">  FullTiny              Build full DQ skimmed data model tiny</div>
<div class="line">  FullWithCov           Build full DQ skimmed data model, w/ track and</div>
<div class="line">                        fwdtrack covariance tables</div>
<div class="line">  FullWithCent          Build full DQ skimmed data model, w/ centrality</div>
<div class="line">  BarrelOnly            Build barrel-only DQ skimmed data model, w/o</div>
<div class="line">                        centrality</div>
<div class="line">  BarrelOnlyWithCov     Build barrel-only DQ skimmed data model, w/ track cov</div>
<div class="line">                        matrix</div>
<div class="line">  BarrelOnlyWithV0Bits  Build full DQ skimmed data model, w/o centrality, w/</div>
<div class="line">                        V0Bits</div>
<div class="line">  BarrelOnlyWithEventFilter</div>
<div class="line">                        Build full DQ skimmed data model, w/o centrality, w/</div>
<div class="line">                        event filter</div>
<div class="line">  BarrelOnlyWithCent    Build barrel-only DQ skimmed data model, w/ centrality</div>
<div class="line">  MuonOnly              Build muon-only DQ skimmed data model</div>
<div class="line">  MuonOnlyWithCov       Build muon-only DQ skimmed data model, w/ muon cov</div>
<div class="line">                        matrix</div>
<div class="line">  MuonOnlyWithCent      Build muon-only DQ skimmed data model, w/ centrality</div>
<div class="line">  MuonOnlyWithFilter    Build muon-only DQ skimmed data model, w/ event filter</div>
<div class="line">  OnlyBCs               Analyze the BCs to store sampled lumi</div>
</div><!-- fragment --><p >We can solve this as a positional argument by putting &ndash; at the beginning of each value. But this will cause confusion in the user help message. Because they are values (Full, FullTiny, BarrelOnly...), not parameters (like &ndash;process). If you get an error like this:</p>
<div class="fragment"><div class="line">runTableMaker.py: error: the following arguments are required: Config.json, Full, FullTiny, FullWithCov, FullWithCent, BarrelOnly, BarrelOnlyWithCov, BarrelOnlyWithV0Bits, BarrelOnlyWithEventFilter, BarrelOnlyWithCent, MuonOnly, MuonOnlyWithCov, MuonOnlyWithCent, MuonOnlyWithFilter, OnlyBCs, V0M, Run2SPDtks, Run2SPDcls, Run2CL0, Run2CL1, el, mu, pi, ka, pr, de, tr, he, al, NOTSET, DEBUG, INFO, WARNING, ERROR, CRITICAL</div>
</div><!-- fragment --><p >This means only your JSON config file is missing from your workflow. ignore the rest</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Debug and Logging Options for O2DQWorkflows and DownloadLibs.py</h1>
<p >We have Debug options if you want to follow the flow in the Interface. For this, you can configure your script as <code>--debug</code> <code>&lt;Level&gt;</code> in the terminal. You can check which levels are valid and at which level to debug from the table. Also if you want to keep your LOG log in a file then the <code>--logFile</code> parameter should be added to the workflow.</p>
<p >The LOG file will be created the same as the workflow name. For example, the file that will be created for <a class="el" href="namespacetableMaker.html">tableMaker</a> will be <code>tableMaker.log</code>. In addition, if you work with the debug option, the old LOG file will be automatically deleted first, so that there is no confusion in the log files and it does not override. Then a new LOG file will be created.</p>
<ul>
<li>You can See Debug Levels in the table:</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Level   </th><th class="markdownTableHeadNone">Numeric Value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>NOTSET</code>   </td><td class="markdownTableBodyNone">0    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>DEBUG</code>   </td><td class="markdownTableBodyNone">10    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>INFO</code>   </td><td class="markdownTableBodyNone">20    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>WARNING</code>   </td><td class="markdownTableBodyNone">30    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ERROR</code>   </td><td class="markdownTableBodyNone">40    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CRITICAL</code>   </td><td class="markdownTableBodyNone">50   </td></tr>
</table>
<p >You can see the debug messages of the numeric value you selected and the level above. If you want debug with <code>--debug</code> parameter, you must select the Level you want to debug.</p>
<p >Example usage Logging for Both File and terminal:</p>
<div class="fragment"><div class="line">python3 runTableMakerMC.py configs/configTableMakerMCRun3.json -runMC --run 3  --debug DEBUG --logFile --process MuonOnlyWithCov OnlyBCs --cfgMCsignals muFromJpsi Jpsi muFromPsi2S Psi2S --aod Datas/AO2D.root --cfgMuonCuts muonQualityCuts muonTightQualityCutsForTests --syst pp --add_track_prop</div>
</div><!-- fragment --><p >Example usage for only logging to terminal:</p>
<div class="fragment"><div class="line">python3 runTableMakerMC.py configs/configTableMakerMCRun3.json -runMC --run 3 --debug DEBUG --process MuonOnlyWithCov OnlyBCs --cfgMCsignals muFromJpsi Jpsi muFromPsi2S Psi2S --aod Datas/AO2D.root --cfgMuonCuts muonQualityCuts muonTightQualityCutsForTests --syst pp --add_track_prop</div>
</div><!-- fragment --><p >For example, when the file is logged, you should see a result like this when you open the relevant file.</p>
<div class="fragment"><div class="line">2022-08-17 17:15:06,628 - [DEBUG]  - [internal-dpl-aod-reader] aod-file : reducedAod.root</div>
<div class="line">2022-08-17 17:15:06,628 - [DEBUG]  - [internal-dpl-aod-reader] aod-reader-json : configs/readerConfiguration_reducedEventMC.json</div>
<div class="line">2022-08-17 17:15:06,628 - [DEBUG]  - [analysis-event-selection] processSkimmed : true</div>
<div class="line">2022-08-17 17:15:06,628 - [DEBUG]  - [analysis-track-selection] processSkimmed : false</div>
<div class="line">2022-08-17 17:15:06,628 - [DEBUG]  - [analysis-muon-selection] cfgMuonCuts : muonQualityCuts,muonTightQualityCutsForTests</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-muon-selection] cfgMuonMCSignals : muFromJpsi,muFromPsi2S</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-muon-selection] processSkimmed : true</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-same-event-pairing] cfgMuonCuts : muonQualityCuts,muonTightQualityCutsForTests</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-same-event-pairing] cfgBarrelMCRecSignals : mumuFromJpsi,mumuFromPsi2S,dimuon</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-same-event-pairing] cfgBarrelMCGenSignals : Jpsi,Psi2S</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-same-event-pairing] processJpsiToEESkimmed : false</div>
<div class="line">2022-08-17 17:15:06,629 - [DEBUG]  - [analysis-same-event-pairing] processJpsiToMuMuSkimmed : true</div>
<div class="line">2022-08-17 17:15:06,630 - [DEBUG]  - [analysis-same-event-pairing] processJpsiToMuMuVertexingSkimmed : false</div>
<div class="line">2022-08-17 17:15:06,630 - [DEBUG]  - [analysis-dilepton-track] processDimuonMuonSkimmed : false</div>
<div class="line">2022-08-17 17:15:06,630 - [INFO] Command to run:</div>
<div class="line">2022-08-17 17:15:06,630 - [INFO] o2-analysis-dq-efficiency --configuration json://tempConfigDQEfficiency.json -b --aod-writer-json configs/writerConfiguration_dileptonMC.json</div>
<div class="line">2022-08-17 17:15:06,630 - [INFO] Args provided configurations List</div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --cfgFileName : configs/configAnalysisMC.json </div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --add_mc_conv : False </div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --add_fdd_conv : False </div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --add_track_prop : False </div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --logFile : True </div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --aod : reducedAod.root </div>
<div class="line">2022-08-17 17:15:06,631 - [INFO] --reader : configs/readerConfiguration_reducedEventMC.json </div>
<div class="line">2022-08-17 17:15:06,632 - [INFO] --writer : configs/writerConfiguration_dileptonMC.json </div>
<div class="line">2022-08-17 17:15:06,632 - [INFO] --analysis : [&#39;muonSelection&#39;, &#39;eventSelection&#39;, &#39;sameEventPairing&#39;] </div>
<div class="line">2022-08-17 17:15:06,632 - [INFO] --process : [&#39;JpsiToMuMu&#39;] </div>
<div class="line">2022-08-17 17:15:06,632 - [INFO] --autoDummy : true </div>
<div class="line">2022-08-17 17:15:06,632 - [INFO] --cfgMuonCuts : muonQualityCuts,muonTightQualityCutsForTests </div>
<div class="line">2022-08-17 17:15:06,632 - [INFO] --cfgMuonMCSignals : muFromJpsi,muFromPsi2S </div>
<div class="line">2022-08-17 17:15:06,633 - [INFO] --cfgBarrelMCRecSignals : mumuFromJpsi,mumuFromPsi2S,dimuon </div>
<div class="line">2022-08-17 17:15:06,633 - [INFO] --cfgBarrelMCGenSignals : Jpsi,Psi2S </div>
<div class="line">2022-08-17 17:15:06,633 - [INFO] --cutLister : False </div>
<div class="line">2022-08-17 17:15:06,633 - [INFO] --MCSignalsLister : False </div>
<div class="line">2022-08-17 17:15:06,633 - [INFO] --debug : DEBUG </div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md21"></a>
Features for runTableMaker</h1>
<h2><a class="anchor" id="autotoc_md22"></a>
Automated Things In runTableMaker</h2>
<ul>
<li>In TableMaker process function for Data,<ul>
<li><code>Automate</code> If process contains only Barrel related value, it will automatically enable d-q-barrel-track-selection-task , d-q-event-selection-task and d-q-muons-selection task will be disabled</li>
<li><code>Automate</code> if process contains only Muons related value, it will automatically enable d-q-muons-selection, d-q barrel-track-selection-task and d-q-event-selection-task it will disabled</li>
<li><code>Automate</code> if process contains only BCs related value, it will automatically enable d-q-event-selection-task, d-q-muon-selection-task and d-q-barrel-track-selection-task will be disabled</li>
<li><code>Automate</code> If process contains values ​​related to Full, then d-q-event-selection-task, d-q-muon-selection-task and d-q-barrel-track-selection-task are automatically enabled<ul>
<li><code>Automate</code> P.S: For Binary, Selections for Process Function (eg. Barrel and Muon Only), It will activate Barrel and Muon tasks and disables event selection tasks</li>
<li><code>Automate</code> P.S: For Three Selections for Process Function (eg. Barrel, BCs Muon Only), It will activate Barrel, Muon and BCs tasks</li>
</ul>
</li>
<li><code>Automate</code> If process contains values ​​related to Filter, then d-q-filter-p-p-task is automatically enabled, otherwise this task will disabled</li>
</ul>
</li>
<li>For selections run &lt;2|3&gt; and run&lt;MC|Data&gt;<ul>
<li><code>Automate</code> if run 2 is selected, in JSON automatically processRun3 becomes false processRun2 becomes true, isRun2 becomes false</li>
<li><code>Automate</code> if run 3 is selected, in JSON automatically processRun3 becomes true processRun2 becomes false, isRun2 becomes true</li>
<li><code>Automate</code> if run 2 and MC selected, in JSON automatically isRun2MC becomes true, otherwise isRun2MC becomes false</li>
<li><code>Automate</code> if MC Selected, in JSON automatically isMC becomes true. If Data Selected, isMC becomes false</li>
</ul>
</li>
<li>For Centrality Table Task, If collision system pp is selected or not selected but original JSON also has pp selected<ul>
<li><code>Automate</code> if runData is selected, centrality-table is deleted from JSON, if MC is deleted, centrality-table is not deleted since it is not in JSON</li>
<li><code>Automate</code> if Table maker process function contains value related to Centrality (e.g. processMuonOnlyWithCent), Collision System pp can't be include related task about Centrality. They Will be removed in automation</li>
<li><code>Automate</code> if Table maker process function contains value related to Centrality, Collision System pp can't be include related task about Centrality. They will be removed in automation. Also, it will not run automatically in the o2-analysis-centrality-table task. Because if the process function contains only Centrality, this task runs and in this part, the centrality values ​​are automatically set to false in the process function.</li>
</ul>
</li>
<li><code>Automate</code> if your dataset is for run3, o2-analysis-trackextension will be automatically deleted from your workflow as it is not a valid command dep. If the production of the data you want to analyze is new, you should add the o2-analysis-track-propagation task to your workflow with the <code>--add_track_prop</code> parameter. This selection is automated by configuring the process function in BcSelectionTask according to run2 or run3</li>
</ul>
<h2><a class="anchor" id="autotoc_md23"></a>
Logger Things In runTableMaker</h2>
<ul>
<li>For TableMaker Process Function<ul>
<li>If the value related to the process function is not defined in the tablemakerMC, the message that it is not defined is printed on the screen. This situation is handled automatically in the CLI and no error is thrown<ul>
<li><p class="startli">```ruby print("[WARNING]", j ,"is Not valid Configurable Option for TableMaker/TableMakerMC regarding to Orginal JSON Config File!!!") </p><div class="fragment"><div class="line">* Example for MC Run3 commands are:</div>
<div class="line">   </div>
<div class="line">  ```ruby</div>
<div class="line">  python3 runTableMakerMC.py configs/configTableMakerMCRun3.json -runMC --run 3 --aod AO2D.root --outputjson ConfiguredTableMakerData2 --onlySelect true --process BarrelOnly MuonOnlyWithCent BarrelOnlyWithEventFilter --isBarrelSelectionTiny true --syst pp --cfgMCsignals eeFromSingleBandBtoC</div>
</div><!-- fragment --><div class="fragment"><div class="line">[WARNING] processBarrelOnlyWithEventFilter is Not valid Configurable Option for TableMaker/TableMakerMC regarding to Orginal JSON Config File!!!</div>
</div><!-- fragment --></li>
</ul>
</li>
</ul>
</li>
<li>Other Loggers based on parameters, MC and Data<ul>
<li>If parameters in not valid for Orginal JSON, it will give a log message. You can check Avaible Loggers in below<ul>
<li>```ruby </li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md24"></a>
Parameter Checking</h1>
<p >if key in V0Parameters and extrargs.runMC: logging.warning("--%s Not Valid Parameter. V0 Selector parameters only valid for Data, not MC. It will fixed by CLI", key) if key == 'cfgWithQA' and (extrargs.runMC or extrargs.run == '2'): logging.warning("--%s Not Valid Parameter. This parameter only valid for Data Run 3, not MC and Run 2. It will fixed by CLI", key) if key == 'est' and extrargs.runMC: logging.warning("--%s Not Valid Parameter. Centrality Table parameters only valid for Data, not MC. It will fixed by CLI", key) if key =='isFilterPPTiny' and (extrargs.runMC or extrargs.run == '2'): logging.warning("--%s Not Valid Parameter. Filter PP Tiny parameter only valid for Data Run3, not MC and Run2. It will fixed by CLI", key) if key == 'cfgMuonSels' and (extrargs.runMC or extrargs.run == '2'): logging.warning("--%s Not Valid Parameter. This parameter only valid for Data Run3, not MC and Run2. It will fixed by CLI", key) if key == 'cfgBarrelSels' and (extrargs.runMC or extrargs.run == '2'): logging.warning("--%s Not Valid Parameter. This parameter only valid for Data Run3, not MC and Run2. It will fixed by CLI", key) if key == 'cfgPairCuts' and (extrargs.runMC or extrargs.run == '3'): logging.warning("--%s Not Valid Parameter. This parameter only valid for Data Run2, not MC and Run3. It will fixed by CLI", key) #if key == 'isBarrelSelectionTiny' and (extrargs.runMC or extrargs.run == '2') and extrargs.isBarrelSelectionTiny: TODO: fix logging bug #print("[WARNING]","--"+key+" Not Valid Parameter. This parameter only valid for Data Run3, not MC and Run2. It will fixed by CLI") if key == 'processDummy' and (extrargs.runMC or extrargs.run == '2'): logging.warning("--%s Not Valid Parameter. This parameter only valid for Data Run3, not MC and Run2. It will fixed by CLI", key) if key == 'cfgMCsignals' and extrargs.runData: logging.warning("--%s Not Valid Parameter. This parameter only valid for MC, not Data. It will fixed by CLI", key) if key == 'isProcessEvTime' and (extrargs.run == '2' or extrargs.runMC): logging.warning("--%s Not Valid Parameter. This parameter only valid for Data Run3, not MC and Run2. It will fixed by CLI", key)</p>
<h1><a class="anchor" id="autotoc_md25"></a>
TableMaker/TableMakerMC Task Checking</h1>
<p >if extrargs.runMC: try: if config["table-maker-m-c"]: logging.info("tablemaker-m-c is in your JSON Config File") except: logging.error("JSON config does not include table-maker-m-c, It's for Data. Misconfiguration JSON File!!!") sys.exit() if extrargs.runData: try: if config["table-maker"]: logging.info("tablemaker is in your JSON Config File") except: logging.error("JSON config does not include table-maker, It's for MC. Misconfiguration JSON File!!!") sys.exit()</p>
<h1><a class="anchor" id="autotoc_md26"></a>
AOD File Path Checking</h1>
<p >if extrargs.aod != None: if os.path.isfile(extrargs.aod) == False: logging.error("%s File not found in path!!!",extrargs.aod) sys.exit() elif os.path.isfile((config["internal-dpl-aod-reader"]["aod-file"])) == False: print("[ERROR]",config["internal-dpl-aod-reader"]["aod-file"],"File not found in path!!!") sys.exit() </p><div class="fragment"><div class="line">* For Centrality Table task</div>
<div class="line">  * Centrality task only available for PbPb system selection so if we select pp over PbPb, It will give LOG messages for this issue. Message : `Collision System pp can&#39;t be include related task about Centrality. They Will be removed in automation. Check your JSON configuration file for Tablemaker process function!!!`</div>
<div class="line"> </div>
<div class="line">    * ```ruby </div>
<div class="line">        if len(centSearch) != 0 and (extrargs.syst == &#39;pp&#39; or (extrargs.syst == None and config[&quot;event-selection-task&quot;][&quot;syst&quot;] == &quot;pp&quot;)):</div>
<div class="line">            # delete centrality-table configurations for data. If it&#39;s MC don&#39;t delete from JSON</div>
<div class="line">            # Firstly try for Data then if not data it gives warning message for MC</div>
<div class="line">            noDeleteNeedForCent = False</div>
<div class="line">            try:</div>
<div class="line">                logging.warning(&quot;JSON file does not include configs for centrality-table task, It&#39;s for DATA. Centrality will removed because you select pp collision system.&quot;)</div>
<div class="line">                #del(config[&quot;centrality-table&quot;])</div>
<div class="line">            except:</div>
<div class="line">                if extrargs.runMC:</div>
<div class="line">                    logging.warning(&quot;JSON file does not include configs for centrality-table task, It&#39;s for MC. Centrality will removed because you select pp collision system.&quot;)</div>
<div class="line">            # check for is TableMaker includes task related to Centrality?</div>
<div class="line">            try:</div>
<div class="line">                processCentralityMatch = [s for s in extrargs.process if &quot;Cent&quot; in s]</div>
<div class="line">                if len(processCentralityMatch) &gt; 0:</div>
<div class="line">                    logging.warning(&quot;Collision System pp can&#39;t be include related task about Centrality. They Will be removed in automation. Check your JSON configuration file for Tablemaker process function!!!&quot;)</div>
<div class="line">                    for paramValueTableMaker in processCentralityMatch:</div>
<div class="line">                        # Centrality process should be false</div>
<div class="line">                        if extrargs.runMC:</div>
<div class="line">                            try:       </div>
<div class="line">                                config[&quot;table-maker-m-c&quot;][paramValueTableMaker] = &#39;false&#39;</div>
<div class="line">                            except:</div>
<div class="line">                                logging.error(&quot;JSON config does not include table-maker-m-c, It&#39;s for Data. Misconfiguration JSON File!!!&quot;)</div>
<div class="line">                                sys.exit()</div>
<div class="line">                        if extrargs.runData:</div>
<div class="line">                            try:       </div>
<div class="line">                                config[&quot;table-maker&quot;][paramValueTableMaker] = &#39;false&#39;</div>
<div class="line">                            except:</div>
<div class="line">                                logging.error(&quot;JSON config does not include table-maker, It&#39;s for MC. Misconfiguration JSON File!!!&quot;)</div>
<div class="line">                                sys.exit()</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md27"></a>
Features for runTableReader</h2>
<h3><a class="anchor" id="autotoc_md28"></a>
Automated Things In runTableReader</h3>
<ul>
<li><code>Automate</code> If you forget to add the <a class="el" href="namespaceeventSelection.html">eventSelection</a> option to the <code>--analysis</code> parameter it will add it automatically. This is because events must always be selected in the entire workflow of DQ.</li>
<li><code>Automate</code> If you define a value for same event pairing in the <code>--process</code> argument and forget to set the sameEventPairing value in the <code>--analysis</code> argument, it will be assigned automatically</li>
<li><code>Automate</code> The eventMixing value in the <code>--analysis</code> argument is automatically configured based on the trackSelection and muonSelection:<ul>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection eventMixing then the processBarrelSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> muonSelection eventMixing then the processMuonSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection muonSelection eventMixing then the processBarrelMuonSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
</ul>
</li>
<li><code>Automate</code> The eventMixingVn value in the <code>--analysis</code> argument is automatically configured based on the trackSelection and muonSelection:<ul>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection eventMixingVn then the processBarrelVnSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> muonSelection eventMixingVn then the processMuonVnSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
</ul>
</li>
<li><code>Automate</code> The sameEventPairing value in the <code>--analysis</code> argument is semi-automatically configured based on the trackSelection and muonSelection:<ul>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection sameEventPairing, The <code>--process</code> parameter for SameEventPairing can only be <code>JpsiToEE</code> and <code>VnJpsiToEE</code> and you will get an error if you configure it differently.</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> muonSelection sameEventPairing, The <code>--process</code> parameter for SameEventPairing can only be <code>JpsiToMuMu</code>, <code>JpsiToMuMuVertexing</code> and <code>VnJpsiToMuMu</code> and you will get an error if you configure it differently.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md29"></a>
Features for runDQEfficiency</h2>
<h3><a class="anchor" id="autotoc_md30"></a>
Automated Things In runDQEfficiency</h3>
<ul>
<li><code>Automate</code> If you forget to add the <a class="el" href="namespaceeventSelection.html">eventSelection</a> option to the <code>--analysis</code> parameter it will add it automatically. This is because events must always be selected in the entire workflow of DQ.</li>
<li><code>Automate</code> If you define a value for same event pairing in the <code>--process</code> argument and forget to set the sameEventPairing value in the <code>--analysis</code> argument, it will be assigned automatically</li>
<li><code>Automate</code> The eventMixing value in the <code>--analysis</code> argument is automatically configured based on the trackSelection and muonSelection:<ul>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection eventMixing then the processBarrelSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> muonSelection eventMixing then the processMuonSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection muonSelection eventMixing then the processBarrelMuonSkimmed process function inside the analysis-event-mixing task will be true, others false</li>
</ul>
</li>
<li><code>Automate</code> The sameEventPairing value in the <code>--analysis</code> argument is semi-automatically configured based on the trackSelection and muonSelection:<ul>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> trackSelection sameEventPairing, The <code>--process</code> parameter for SameEventPairing can only be <code>JpsiToEE</code> and you will get an error if you configure it differently.</li>
<li><code>Automate</code> if the <code>--analysis</code> parameter is configured as <a class="el" href="namespaceeventSelection.html">eventSelection</a> muonSelection sameEventPairing, The <code>--process</code> parameter for SameEventPairing can only be <code>JpsiToMuMu</code> and <code>JpsiToMuMuVertexing</code> and you will get an error if you configure it differently.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md31"></a>
Some Things You Should Be Careful For Using and Development</h2>
<ul>
<li>There are also filters for some arguments. No value should be entered outside of these filters (look at the choices).</li>
<li>If the argument can take more than one value, when adding a new property choices is a list and the values must be converted to comma-separated strings</li>
<li>if your dataset is for run3, o2-analysis-trackextension will be automatically deleted from your workflow as it is not a valid command dep. If the production of the data you want to analyze is new, you should add the o2-analysis-track-propagation task to your workflow with the <code>--add_track_prop</code> parameter. You can found detalis from there <a href="https://aliceo2group.github.io/analysis-framework/docs/helperTasks/trackselection.html?highlight=some%20of%20the%20track%20parameters"><code>Click Here</code></a></li>
</ul>
<h2><a class="anchor" id="autotoc_md32"></a>
Some Notes Before The Instructions</h2>
<ul>
<li>You don't have to configure all the parameters in the Python interface. the parameter you did not configure will remain as the value in the JSON.</li>
<li>Don't forget to configure your Config JSON file in interface for each workflow and also configure extra <code>-run&lt;Data|MC&gt;</code> parameters for <a class="el" href="namespacetableMaker.html">tableMaker</a> workflow only.</li>
<li>Sometimes you may need to add extra tables and transformations to your workflow to resolve the errors you get. These are related to the data model and the production tag. It is stated in the steps that they will be used when errors are received. If you get an error about these add the relevant parameter to your workflow.</li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
Interface Modes: JSON Overrider and JSON Additional</h2>
<p >The only select parameter gives you a choice depending on whether you want to keep your old configurations of the interface.</p>
<p >If <code>--onlySelect</code> is configured to true, you will run in JSON overrider interface mode (default value of this parameter is true). only commands entered in the terminal for some parameters will preserved, while others are set to false.</p>
<p >If &ndash;onlySelect is false, you will run in JSON additional interface mode. the values ​​in your original JSON file will be preserved, values ​​entered from the terminal will be appended to the JSON. It would be much better to explain this through an example.</p>
<p >For example, let's say we're working on a <a class="el" href="namespacetableMaker.html">tableMaker</a>:</p>
<div class="fragment"><div class="line">&quot;table-maker&quot;: {</div>
<div class="line">    &quot;cfgEventCuts&quot;: &quot;eventStandardNoINT7&quot;,</div>
<div class="line">    &quot;cfgBarrelTrackCuts&quot;: &quot;jpsiO2MCdebugCuts2,jpsiO2MCdebugCuts3,jpsiO2MCdebugCuts,kaonPID&quot;,</div>
<div class="line">    &quot;cfgMuonCuts&quot;: &quot;muonQualityCuts,muonTightQualityCutsForTests&quot;,</div>
<div class="line">    &quot;cfgBarrelLowPt&quot;: &quot;0.5&quot;,</div>
<div class="line">    &quot;cfgMuonLowPt&quot;: &quot;0.5&quot;,</div>
<div class="line">    &quot;cfgMinTpcSignal&quot;: &quot;50&quot;,</div>
<div class="line">    &quot;cfgMaxTpcSignal&quot;: &quot;200&quot;,</div>
<div class="line">    &quot;cfgNoQA&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;cfgDetailedQA&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;cfgIsRun2&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processFull&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processFullWithCov&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processFullWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithV0Bits&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithEventFilter&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithQvector&quot; : &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnly&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnly&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithQvector&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithFilter&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processOnlyBCs&quot;: &quot;true&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p >As seen here, the process functions for Full, FullWithCov, and OnlyBCs are true. Let's assume that we made the following configuration for the interface in the terminal:</p>
<div class="fragment"><div class="line">python3 runTableMaker.py configs/configTableMakerDataRun2.json -runData --aod Datas/AO2D_PbPbDataRun2_LHC15o.root --process OnlyBCs BarrelOnlyWithCent --onlySelect true</div>
</div><!-- fragment --><p> P.S. Since onlySelect is true (you don't need to add it to your workflow when configuring <code>--onlySelect</code> to true, its default value is true I just added it to show, JSON Overrider Mode):</p>
<div class="fragment"><div class="line">&quot;table-maker&quot;: {</div>
<div class="line">    &quot;cfgEventCuts&quot;: &quot;eventStandardNoINT7&quot;,</div>
<div class="line">    &quot;cfgBarrelTrackCuts&quot;: &quot;jpsiO2MCdebugCuts2,jpsiO2MCdebugCuts3,jpsiO2MCdebugCuts,kaonPID&quot;,</div>
<div class="line">    &quot;cfgMuonCuts&quot;: &quot;muonQualityCuts,muonTightQualityCutsForTests&quot;,</div>
<div class="line">    &quot;cfgBarrelLowPt&quot;: &quot;0.5&quot;,</div>
<div class="line">    &quot;cfgMuonLowPt&quot;: &quot;0.5&quot;,</div>
<div class="line">    &quot;cfgMinTpcSignal&quot;: &quot;50&quot;,</div>
<div class="line">    &quot;cfgMaxTpcSignal&quot;: &quot;200&quot;,</div>
<div class="line">    &quot;cfgNoQA&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;cfgDetailedQA&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;cfgIsRun2&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processFull&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processFullWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processFullWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithV0Bits&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithEventFilter&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithQvector&quot; : &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithCent&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnly&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnly&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithQvector&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithFilter&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processOnlyBCs&quot;: &quot;true&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p >As you can see, only the OnlyBCs and BarrelOnlyWithCent process functions are set to true, while all other process functions in the <a class="el" href="namespacetableMaker.html">tableMaker</a> are set to false.</p>
<p >If we configured onlySelect to false:</p>
<div class="fragment"><div class="line">python3 runTableMaker.py configs/configTableMakerDataRun2.json -runData --aod Datas/AO2D_PbPbDataRun2_LHC15o.root --process OnlyBCs BarrelOnlyWithCent --onlySelect false (JSON Additional Mode)</div>
</div><!-- fragment --><p >Then our output would be:</p>
<div class="fragment"><div class="line">&quot;table-maker&quot;: {</div>
<div class="line">    &quot;cfgEventCuts&quot;: &quot;eventStandardNoINT7&quot;,</div>
<div class="line">    &quot;cfgBarrelTrackCuts&quot;: &quot;jpsiO2MCdebugCuts2,jpsiO2MCdebugCuts3,jpsiO2MCdebugCuts,kaonPID&quot;,</div>
<div class="line">    &quot;cfgMuonCuts&quot;: &quot;muonQualityCuts,muonTightQualityCutsForTests&quot;,</div>
<div class="line">    &quot;cfgBarrelLowPt&quot;: &quot;0.5&quot;,</div>
<div class="line">    &quot;cfgMuonLowPt&quot;: &quot;0.5&quot;,</div>
<div class="line">    &quot;cfgMinTpcSignal&quot;: &quot;50&quot;,</div>
<div class="line">    &quot;cfgMaxTpcSignal&quot;: &quot;200&quot;,</div>
<div class="line">    &quot;cfgNoQA&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;cfgDetailedQA&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;cfgIsRun2&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processFull&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processFullWithCov&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processFullWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithV0Bits&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithEventFilter&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithQvector&quot; : &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithCent&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processBarrelOnlyWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processBarrelOnly&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithCent&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithCov&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnly&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithQvector&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processMuonOnlyWithFilter&quot;: &quot;false&quot;,</div>
<div class="line">    &quot;processOnlyBCs&quot;: &quot;true&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p >As you can see, the old process values ​​Full and FullWithCov remained true, in addition, the BarrelOnlyWithCent process function was set to true. OnlyBCs was already true and remains true.</p>
<p >This is the case for the <code>--analysis</code>, <code>--process</code>, <code>--pid</code> and <code>--est</code> parameters.</p>
<p >A similar situation applies to Analysis Cut configurations and MC Signal configurations. Suppose there is a configuration like this in it (for <a class="el" href="namespacetableReader.html">tableReader</a>):</p>
<div class="fragment"><div class="line">&quot;analysis-track-selection&quot;: {</div>
<div class="line">    &quot;cfgTrackCuts&quot;: &quot;jpsiO2MCdebugCuts2&quot;,</div>
<div class="line">    &quot;cfgTrackMCSignals&quot;: &quot;eFromJpsi,eFromLMeeLF&quot;,</div>
<div class="line">    &quot;cfgQA&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processSkimmed&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processDummy&quot;: &quot;false&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p >Here we will configure the track cuts:</p>
<div class="fragment"><div class="line">python3 runTableReader.py configs/configAnalysisData.json --aod reducedAod.root --cfgTrackCuts jpsiPID1 jpsiPID2</div>
</div><!-- fragment --><p >The JSON is in overrider mode as the default is onlySelect true and the equivalent of this configuration is:</p>
<div class="fragment"><div class="line">&quot;analysis-track-selection&quot;: {</div>
<div class="line">    &quot;cfgTrackCuts&quot;: &quot;jpsiPID1,jpsiPID2&quot;,</div>
<div class="line">    &quot;cfgTrackMCSignals&quot;: &quot;eFromJpsi,eFromLMeeLF&quot;,</div>
<div class="line">    &quot;cfgQA&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processSkimmed&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processDummy&quot;: &quot;false&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p >As we can see, the old cut values ​​were deleted, the new cut values ​​were taken from the CLI.</p>
<p >If onlySelect is False:</p>
<div class="fragment"><div class="line">python3 runTableReader.py configs/configAnalysisData.json --aod reducedAod.root --cfgTrackCuts jpsiPID1 jpsiPID2 --onlySelect false</div>
</div><!-- fragment --><p >Then the JSON is in additional mode and the equivalent of this configuration is:</p>
<div class="fragment"><div class="line">&quot;analysis-track-selection&quot;: {</div>
<div class="line">    &quot;cfgTrackCuts&quot;: &quot;jpsiO2MCdebugCuts2,jpsiPID1,jpsiPID2&quot;,</div>
<div class="line">    &quot;cfgTrackMCSignals&quot;: &quot;eFromJpsi,eFromLMeeLF&quot;,</div>
<div class="line">    &quot;cfgQA&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processSkimmed&quot;: &quot;true&quot;,</div>
<div class="line">    &quot;processDummy&quot;: &quot;false&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p >As we can see, our old track cut value has been preserved and extra new ones have been added.</p>
<p >This is the same for all analysis cuts, MC Signals, barrel and muon sels in <a class="el" href="namespacefilterPP.html">filterPP</a> and mixing vars.</p>
<p >This is the main reason why Interface works in these two modes. If you already have a JSON configuration file prepared for a specific data for analysis, it makes sense to use JSON additional mode if you just want to add some values. Because you will want to preserve the old values.</p>
<p >If you are going to do an analysis from zero and you will prepare your JSON configuration file accordingly, or if you want to completely change your analysis values, then it makes sense to use JSON overrider mode. Because the default JSON files must be manipulated in accordance with the analysis (like configAnalysisData.json) or you choose this mode to change the complete analysis values</p>
<p ><a class="el" href="md_doc_3_InstructionsforTABAutocomplete.html">← Go back to Instructions For Instructions for TAB Autocomplete</a> | <a class="el" href="index.html#md_README">↑ Go to the Table of Content ↑</a> | <a class="el" href="md_doc_5_InstructionsForPythonScripts.html">Continue to Instructions For Python Scripts →</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
